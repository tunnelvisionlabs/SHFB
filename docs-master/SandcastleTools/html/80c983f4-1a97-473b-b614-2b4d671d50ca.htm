<html><head><META http-equiv="Content-Type" content="text/html; charset=utf-8"><link rel="shortcut icon" href="../icons/favicon.ico"><link rel="stylesheet" type="text/css" href="../styles/branding.css"><link rel="stylesheet" type="text/css" href="../styles/branding-en-US.css"><script type="text/javascript" src="../scripts/branding.js"></script><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>Architecture</title><meta name="Language" content="en-us"><meta name="System.Keywords" content="tools architecture"><meta name="Microsoft.Help.Id" content="80c983f4-1a97-473b-b614-2b4d671d50ca"><meta name="Description" content="At a high level, Sandcastle can be seen as a set of tools that transforms raw input into documentation output."><meta name="Microsoft.Help.ContentType" content="Concepts"><meta name="BrandingAware" content="'true'"><meta name="SelfBranded" content="true"></head><body onload="onLoad()"><header class="ux-header"><div class="header-top-bar">Sandcastle Tools</div></header><div class="OH_outerDiv" style="padding: 35px 20px 0 20px;"><div class="OH_leftNav" id="LeftNav">
  <div id="tocnav">
    <div class="toclevel0" data-toclevel="0" style="padding-left: 0px;"><a class="toc_collapsed" onclick="javascript: Toggle(this);" href="#!"></a><a data-tochassubtree="true" href="55798556-c18a-46bd-8bb6-902c45e5ebbc.htm" title="Sandcastle Tools" tocid="roottoc">Sandcastle Tools</a></div><div class="toclevel1" data-toclevel="1" style="padding-left: 13px;" data-childrenloaded="true"><a class="toc_expanded" onclick="javascript: Toggle(this);" href="#!"></a><a data-tochassubtree="true" href="1f2caa70-729b-48e1-9a9c-b612efd2f3b7.htm" title="Sandcastle Tools" tocid="1f2caa70-729b-48e1-9a9c-b612efd2f3b7">Sandcastle Tools</a></div><div class="toclevel2" data-toclevel="2" style="padding-left: 26px;"><span class="toc_empty"></span><a data-tochassubtree="false" href="5a8fa02a-01cd-466e-a2c1-2bb30190cc5a.htm" title="General Information" tocid="5a8fa02a-01cd-466e-a2c1-2bb30190cc5a">General Information</a></div><div class="toclevel2 current" data-toclevel="2" style="padding-left: 26px;"><span class="toc_empty"></span><a data-tochassubtree="false" href="80c983f4-1a97-473b-b614-2b4d671d50ca.htm" title="Architecture" tocid="80c983f4-1a97-473b-b614-2b4d671d50ca">Architecture</a></div></div></div><div id="TocResize" class="OH_TocResize"><img id="ResizeImageIncrease" src="../icons/open.gif" onclick="onIncreaseToc()" alt="Expand" title="Expand"><img id="ResizeImageReset" src="../icons/close.gif" style="display:none" onclick="onResetToc()" alt="Minimize" title="Minimize"></div><div class="OH_outerContent" id="OuterContent" style="margin-left: 280px;"><h1 class="title">Architecture</h1><div id="mainSection"><div id="mainBody"><span class="introStyle"></span><div class="introduction"><p>This topic gives an overview of the Sandcastle architecture.</p><ul class="autoOutline"><li class="outlineSectionEntry"><a href="#Layers">Sandcastle Layers</a></li><li class="outlineSectionEntry"><a href="#Modes">Modes of Operation</a></li><ul class="autoOutline"><li class="outlineSectionEntry"><a href="#ReferenceMode">Reference Mode</a></li><li class="outlineSectionEntry"><a href="#ConceptualMode">Conceptual Mode</a></li></ul><li class="outlineSectionEntry"><a href="#PresentationStyles">Presentation Styles</a></li></ul></div><a id="Layers"></a><div class="OH_CollapsibleAreaRegion"><div class="OH_regiontitle">Sandcastle Layers</div></div><p>At a high level, Sandcastle can be seen as a set of tools that transforms raw input into
documentation output.</p><div class="ps_mediaCenter"><img alt="Sandcastle Layers" src="../media/SandcastleLayers.jpg"></div><p>Inputs of various types are supported such as managed assemblies and raw XML documentation files,
which are typically compiler-generated along with the assemblies, as well as MAML topics and additional content
such as images and code snippets.  With this input, Sandcastle performs a highly configurable set of
transformations to produce web-ready HTML files as output.</p><p>Sandcastle's output can be used as-is by hosting the generated HTML files and their dependencies
(namely, CSS and images) on a web server.  Alternatively, and more common, the generated HTML files can be passed
as input to help compilers to produce compiled help in various forms.  Compilers are additional tools (downloaded
separately) that aggregate all of the HTML files produced by Sandcastle to create compiled help files.  These are
files that can be downloaded and viewed in a special desktop application such as the HTML Help Viewer or
Microsoft Document Explorer.  Typically, compiled help files are distributed with the products being documented,
or at least made available as a separate download.</p><a id="Modes"></a><div class="OH_CollapsibleAreaRegion"><div class="OH_regiontitle">Modes of Operation</div></div><p>There are two modes of operation supported by Sandcastle: Reference and Conceptual.  The
differences between them can be found in both the input and output of Sandcastle. To provide a quick definition
of each, consider reference documentation to provide information about the physical properties of a managed
library or application, such as the actual namespaces, types, members and method arguments, and consider
conceptual documentation to provide instructional information about the overall design and conceptual properties
of a managed library or application, such as how to accomplish specific usage scenarios and providing an in-depth
analysis of specifically complex APIs. More distinctions between the two modes can be found in their
corresponding sections below.</p><div class="ps_mediaCenter"><img alt="Sandcastle Modes" src="../media/SandcastleModes.jpg"></div><div class="alert"><table><tr><th><img src="../icons/alert_note.gif" alt="Note"> <strong>Note</strong></th></tr><tr><td><p>Although built separately, the outputs from the reference and conceptual builds are compatible
and are typically combined into a single help file.</p></td></tr></table></div><a id="ReferenceMode"></a><h4 class="subHeading">Reference Mode</h4><div class="subsection"><p>To produce reference documentation, Sandcastle requires managed assemblies as input. The
<strong>MRefBuilder</strong> command-line tool is used to analyze the physical properties of the
assemblies, as well as their dependencies, ultimately producing an XML reflection file that becomes input for the
next steps of the process. This XML reflection file contains all of the information that is required to document
the physical properties of the input assemblies.</p><p>Sandcastle also accepts XML documentation files as input. XML documentation files are typically
generated by code compilers from the triple-slash (C#) or triple-apostrophe (VB) comments found in source code
files, at the same time that their corresponding assemblies are compiled. XML documentation files contain
specific identifiers that allow Sandcastle to correlate XML documentation for each API to the same API in the XML
reflection file that is produced by <strong>MRefBuilder</strong>.  Additionally, reference mode
supports shared inputs of various types such as images and code snippets to be included in the documentation.</p><p>The output of Sandcastle in reference mode is created by the <strong>BuildAssembler</strong>
tool with a specific configuration. It produces a set of HTML files that document the physical structure of the
XML reflection file (generated by <strong>MRefBuilder</strong>) passed in as input. XML documentation
comments that are discovered during the process are also injected into the HTML files in the appropriate places;
e.g., contents of the <span class="code">&lt;summary&gt;</span> elements appear at the top of the HTML file, while
<span class="code">&lt;remarks&gt;</span> contents appear after the syntax section.</p><p>Sandcastle also automatically generates a table of contents (TOC) and a keyword index based on
the XML reflection file. Each auto-generated API topic also includes appropriate hyperlinks. Typically,
pseudo-topics are automatically generated as well; e.g., a topic containing a list of all the types in a
particular namespace, and another topic containing a list of all properties in a particular type, etc.</p></div><a id="ConceptualMode"></a><h4 class="subHeading">Conceptual Mode</h4><div class="subsection"><p>To produce conceptual documentation, Sandcastle depends on a special XML schema called
Microsoft Assistance Markup Language (MAML). The input to Sandcastle in conceptual mode must be a set of XML
documentation files written against the MAML schema. XML companion files can be provided as input to specify
metadata for each MAML topic; e.g., index keywords.  Additionally, conceptual mode supports shared inputs of
various types such as images and code snippets to be included in the documentation.</p><p>The output of Sandcastle in conceptual mode is created by the <strong>BuildAssembler</strong>
tool with a specific configuration.  It produces a set of HTML files that are created by transforming the
individual MAML files, where one HTML file is created per MAML file.  The HTML files display the data in each
MAML topic according to the document type of that topic; e.g., all <strong>How-To</strong> topics will
have an introduction and at least one procedural section that contains an ordered list of steps for the reader
to follow. Most, but not all MAML topics also contain a <strong>See Also</strong> section at the bottom.
Special MAML document types, such as <strong>Glossary</strong>, use a very different type of
transformation from the other document types.</p><p>It is up to the author to specify a table of contents (TOC) in conceptual mode. Likewise, a
keyword index is not automatically generated, so it is the author's responsibility to specify relevant keywords
for each MAML topic using an XML companion file.</p></div><a id="PresentationStyles"></a><div class="OH_CollapsibleAreaRegion"><div class="OH_regiontitle">Presentation Styles</div></div><p>The presentation styles in Sandcastle contain all of the aesthetic resources that are required to
build HTML documentation in different styles.  Each presentation style includes a set of XSLT files, XML files,
CSS files, and images.  The set of XSLT files is executed once for each topic that <strong>BuildAssembler</strong>
processes to produce an individual HTML file as output.  Each presentation style can have a different set of XSLT
files (although usually similar in many ways); therefore, each presentation style also must provide a custom
configuration for the <strong>BuildAssembler</strong> tool.  The XML files contain look-up information,
such as localizable textual content. The CSS files and images are referenced by the HTML files that are
generated, so technically they are just static output.</p><a name="seeAlsoSection"></a><div class="OH_CollapsibleAreaRegion"><div class="OH_regiontitle">See Also</div></div><h4 class="subHeading">Other Resources</h4><div class="seeAlsoStyle"><a href="1f2caa70-729b-48e1-9a9c-b612efd2f3b7.htm">Sandcastle Tools</a></div></div></div></div></div><div id="OH_footer" class="OH_footer"><p><a href="http://SHFB.CodePlex.com" target="_blank">[v2014.4.21.0] Sandcastle Tools</a></p><div class="OH_feedbacklink">Send comments on this topic to
        <a id="HT_MailLink" href="mailto:Eric%40EWoodruff.us?Subject=Sandcastle Tools">Eric@EWoodruff.us</a></div><script type="text/javascript">
        var HT_mailLink = document.getElementById("HT_MailLink");
        var HT_mailLinkText = HT_mailLink.innerHTML;
        HT_mailLink.href += ": " + document.title + "\u0026body=" + encodeURIComponent("Your feedback is used to improve the documentation and the product. Your e-mail address will not be used for any other purpose and is disposed of after the issue you report is resolved. While working to resolve the issue that you report, you may be contacted via e-mail to get further details or clarification on the feedback you sent. After the issue you report has been addressed, you may receive an e-mail to let you know that your feedback has been addressed.");
        HT_mailLink.innerHTML = HT_mailLinkText;
        </script></div><script src="//code.jquery.com/jquery-1.11.0.min.js"></script><script type="text/javascript">$(document).ready(function () {DocumentReady();});</script></body></html>